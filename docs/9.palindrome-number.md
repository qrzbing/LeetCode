---
No: 9
Difficulty: Rasy
Link: https://leetcode-cn.com/problems/palindrome-number
Topics: `Math`
---

# 9. 回文数

## Description

## Solution

最开始的想法和 [7. 整数反转](./7.reverse-integer.md) 一样，为避免出现整数溢出（在实际中应该无所谓吧，还是说会影响更高位的寄存器（例如 rdx）？）考虑了一下相关的情况。初始代码如下：

Language: **C**

```c
bool isPalindrome(int x){
    int re_x = 0, tmp_x = x;
    if(x < 0)
        return 0;
    while(x>0){
        if(re_x > INT_MAX/10){
            return false;
        }
        re_x = re_x*10+x%10;
        x/=10;
    }
    if(re_x == tmp_x){
        return true;
    }
    return false;
}
```

但是去看了一下官方的题解，很有意思的是，它为了避免整数溢出的情况，用了一个 long 型变量，如下所示

-----
```c
bool isPalindrome(int x) {
    long y = 0, z = x;
    while ( z > 0 ) {
      y = 10 * y + (z % 10);
      z /= 10;
    }
    return (x-y) == 0;
  }
```

这里孰优孰劣呢？可以分析一下，long 会占用更大的空间，但是对于当前的寄存器应该不是问题；而判断是否溢出会带来若干判断和跳转，可能会影响到缓存的局部性，增加代码执行的时间开销和未命中缓存的时间开销（存疑，如果缓存中有相关代码的话，缓存连续读和缓存跨行读是否会影响到执行时间呢？）